appId: com.duckduckgo.mobile.ios
tags:
    - sync

---

# Clear and launch
- clearState
- launchApp

# Run onboarding Flow
- runFlow: 
    when: 
      visible: 
        text: "Letâ€™s Do It!"
        index: 0
    file: ../shared/onboarding.yaml

# Set Internal User
- tapOn: Settings
- runFlow:
    file: ../shared/set_internal_user.yaml

# Create account
- runFlow:
    file: ../shared/sync_create.yaml
    env:
        SHOULD_GET_CODE: false

# Log Out
- assertVisible: Sync & Backup
- tapOn: Turn Off Sync & Backup...
- assertVisible: Turn Off Sync?
- tapOn: Remove
- assertVisible: Begin Syncing

# Recover Data
- assertVisible: Sync & Backup
- tapOn: Sync & Backup
- assertVisible: Begin Syncing
- tapOn: Recover Synced Data
- assertVisible: Recover Synced Data
- assertVisible: Get Started
- tapOn: Get Started
- tapOn: Enter Text Code Manually
- tapOn: Paste
- assertVisible: Save Recovery Code
- tapOn: Next
- assertVisible: Your Data is Synced!
- tapOn: Done
- assertVisible: Sync Enabled


# Clean up
- runFlow:
    file: ../shared/sync_delete.yaml

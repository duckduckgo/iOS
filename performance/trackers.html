<html>
<script>

	const trackers = 100;
	const interval = 1000 / 10;

	let token = null;
	let loaded = 0;

	function addTracker() {

		const trackers = document.getElementById("trackers");
		const counter = document.getElementById("counter");
		const holder = document.createElement("div");

		if (loaded++ >= 100) {
			counter.innerHTML = "Done";
			clearTimeout(token);			
		} else {
			counter.innerHTML = `${loaded}`;
			let script = document.createElement("script");
			script.src = "//www.googletagmanager.com/gtmx.js";
			holder.append(script);
		}

		trackers.append(holder);
	}

	function loadTrackers() {
		token = setInterval(addTracker, interval);
	}

	document.addEventListener("DOMContentLoaded", loadTrackers);

</script>
<body>

Loading 100 trackers, one every 1/10 of a second.

<div id="counter">
</div>

<div id="trackers">
</div>

</body>
</html>
